<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.11.0.824081727030">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.11.0">

    <!-- Primary Meta Tags -->
    <title>Identity Commands</title>
    <meta name="title" content="Identity Commands">
    <meta name="description" content="Category: Identity | Version: v1.2.x+">

    <!-- Canonical -->
    <link rel="canonical" href="/command-reference/identity/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="/command-reference/identity/">
    <meta property="og:title" content="Identity Commands">
    <meta property="og:description" content="Category: Identity | Version: v1.2.x+">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="/command-reference/identity/">
    <meta property="twitter:title" content="Identity Commands">
    <meta property="twitter:description" content="Category: Identity | Version: v1.2.x+">

    <script data-cfasync="false">(function(){var cl=document.documentElement.classList,ls=localStorage.getItem("retype_scheme"),hd=cl.contains("dark"),hl=cl.contains("light"),wm=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(ls==="dark"||(!ls&&wm&&!hd&&!hl)){cl.remove("light");cl.add("dark")}else if(ls==="light"||(!ls&&!wm&&!hd&&!hl)){cl.remove("dark");cl.add("light")}})();</script>

    <link href="../../resources/css/retype.css?v=3.11.0.824081727030" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.11.0.824081727030" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.11.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.11.0.824081727030" data-turbo-eval="false" defer></script>
    <script id="prism-js" data-cfasync="false" src="../../resources/js/prism.js?v=3.11.0.824081727030" defer></script>
</head>
<body>
    <div id="retype-app" class="relative text-base antialiased text-base-text bg-base-bg font-body">
        <div class="absolute bottom-0 left-0" style="top: 5rem; right: 50%"></div>
    
        <header id="retype-header" class="sticky top-0 z-30 flex w-full h-16 bg-header-bg border-b border-header-border md:h-20">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton retype-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="retype-sidebar-left-toggle-button"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="retype-branding-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="dark:text-white font-bold line-clamp-1 md:line-clamp-2">Verus Wiki</span>
                        </a>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block border-base-border"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav id="retype-header-nav" class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://verus.io">Verus.io</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://discord.gg/veruscoin">Discord</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-search-placeholder transition-colors duration-200 ease-in bg-search-bg border border-transparent rounded md:text-sm hover:border-search-border-hover focus:outline-none focus:border-search-border-focus" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="retype-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
    
        <div id="retype-container" class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-sidebar-left-bg border-sidebar-left-border sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton">
            
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-filter-bg border border-filter-border rounded shadow-none text-sm focus:outline-none focus:border-filter-border-focus" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-base-border">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-base-border">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-base-border">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://verus.io">Verus.io</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://discord.gg/veruscoin">Discord</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 bg-body-bg">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div id="retype-main" class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="retype-markdown" id="retype-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="retype-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="identity-commands" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#identity-commands">#</doc-anchor-trigger>
        <span>Identity Commands</span>
    </h1>
</doc-anchor-target>
<hr>
<doc-anchor-target id="getidentitieswithaddress">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentitieswithaddress">#</doc-anchor-trigger>
        <span>getidentitieswithaddress</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Returns all identities that contain a specified address in their primary addresses. Requires the daemon to be started with <code v-pre>-idindex=1</code>.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentitieswithaddress '{&quot;address&quot;:&quot;validprimaryaddress&quot;,&quot;fromheight&quot;:height,&quot;toheight&quot;:height,&quot;unspent&quot;:false}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | A valid primary address — returns all identities containing this address |
| fromheight | number | No | Default = 0. Search from this height forward only |
| toheight | number | No | Default = 0 (no limit). Search up to this height only |
| unspent | bool | No | Default = false. If true, only return active (unspent) ID UTXOs as of current block |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">[
  {
    &quot;identity&quot;: { ... },
    &quot;txout&quot;: { &quot;txhash&quot;: &quot;...&quot;, &quot;index&quot;: 0 }
  }
]</code></pre>
</doc-codeblock></div>
<p>An array of matching identity objects, each with an additional <code v-pre>txout</code> field containing the transaction hash and output index.</p>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithaddress '{&quot;address&quot;:&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;}'

## Actual Output (tested on VRSCTEST)
## ERROR: requires -idindex=1 when starting the daemon</code></pre>
</doc-codeblock></div>
<blockquote>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> This command requires the daemon to be started with <code v-pre>-idindex=1</code>.</strong> Without this flag, the command returns an error. The identity index is not enabled by default because it increases disk usage and sync time.</p>
</blockquote>
<p><strong>With Height Range and Unspent Filter</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithaddress '{&quot;address&quot;:&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;,&quot;fromheight&quot;:920000,&quot;toheight&quot;:930000,&quot;unspent&quot;:true}'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentitieswithaddress&quot;,&quot;params&quot;:[{&quot;address&quot;:&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;}]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Reverse lookup</strong>: Find which identities are controlled by a specific address</li>
<li><strong>Audit</strong>: Discover all identities a particular key controls</li>
<li><strong>Multi-sig investigation</strong>: Find identities that include a specific co-signer address</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>requires -idindex=1 when starting the daemon</code> | Daemon not started with identity index | Restart daemon with <code v-pre>-idindex=1</code> flag |
| Invalid address format | Not a valid R-address | Provide a valid transparent address |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentitieswithrecovery.md">getidentitieswithrecovery</a> — Find identities by recovery authority</li>
<li><a href="../identity/getidentitieswithrevocation.md">getidentitieswithrevocation</a> — Find identities by revocation authority</li>
<li><a href="../identity/getidentity.md">getidentity</a> — Look up a specific identity by name or i-address</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>Requires <code v-pre>-idindex=1</code></strong> daemon flag. This builds an address-to-identity index on disk. Without it, the command cannot function.</li>
<li>To enable: stop the daemon, restart with <code v-pre>verusd -testnet -idindex=1</code>. This may require a reindex on first run.</li>
<li>The <code v-pre>unspent</code> parameter is useful for filtering out historical (spent) identity UTXOs and showing only the current active state.</li>
<li>This is a &quot;reverse lookup&quot; — instead of looking up an identity by name, you find identities by one of their constituent addresses.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
<li><strong>Note:</strong> Testing returned error because daemon was not started with <code v-pre>-idindex=1</code></li>
</ul>
<hr>
<doc-anchor-target id="getidentitieswithrecovery">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentitieswithrecovery">#</doc-anchor-trigger>
        <span>getidentitieswithrecovery</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Returns all identities where a specified identity is set as the recovery authority. Requires the daemon to be started with <code v-pre>-idindex=1</code>.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentitieswithrecovery '{&quot;identityid&quot;:&quot;idori-address&quot;,&quot;fromheight&quot;:height,&quot;toheight&quot;:height,&quot;unspent&quot;:false}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| identityid | string | Yes | Name (e.g., <code v-pre>&quot;ari@&quot;</code>) or i-address — returns all identities where this is the recovery authority |
| fromheight | number | No | Default = 0. Search from this height forward only |
| toheight | number | No | Default = 0 (no limit). Search up to this height only |
| unspent | bool | No | Default = false. If true, only return active (unspent) ID UTXOs |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">[
  {
    &quot;identity&quot;: { ... },
    &quot;txout&quot;: { &quot;txhash&quot;: &quot;...&quot;, &quot;index&quot;: 0 }
  }
]</code></pre>
</doc-codeblock></div>
<p>An array of identity objects where the specified ID is the recovery authority.</p>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithrecovery '{&quot;identityid&quot;:&quot;ari@&quot;}'

## Actual Output (tested on VRSCTEST)
## ERROR: requires -idindex=1 when starting the daemon</code></pre>
</doc-codeblock></div>
<blockquote>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Requires <code v-pre>-idindex=1</code> daemon flag.</strong></p>
</blockquote>
<p><strong>Only Active Identities</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithrecovery '{&quot;identityid&quot;:&quot;ari@&quot;,&quot;unspent&quot;:true}'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentitieswithrecovery&quot;,&quot;params&quot;:[{&quot;identityid&quot;:&quot;ari@&quot;}]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Recovery authority audit</strong>: Find all identities you are responsible for recovering</li>
<li><strong>Security review</strong>: Check which identities depend on a specific recovery authority</li>
<li><strong>Identity management</strong>: Inventory all IDs under your recovery umbrella</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>requires -idindex=1 when starting the daemon</code> | Daemon not started with identity index | Restart daemon with <code v-pre>-idindex=1</code> |
| <code v-pre>Identity not found</code> | The specified recovery identity doesn&#x27;t exist | Verify the identity name or i-address |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentitieswithrevocation.md">getidentitieswithrevocation</a> — Find identities by revocation authority</li>
<li><a href="../identity/getidentitieswithaddress.md">getidentitieswithaddress</a> — Find identities by primary address</li>
<li><a href="../identity/getidentity.md">getidentity</a> — Look up a specific identity</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>Requires <code v-pre>-idindex=1</code></strong> daemon flag. See <a href="../identity/getidentitieswithaddress.md">getidentitieswithaddress</a> for details.</li>
<li>By default, an identity&#x27;s recovery authority is set to itself. This means querying <code v-pre>&quot;ari@&quot;</code> will return <code v-pre>ari@</code> itself plus any other identities that explicitly set <code v-pre>ari@</code> as their recovery authority.</li>
<li>Recovery authority is the identity that can recover (regain control of) an identity if primary keys are compromised.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
<li><strong>Note:</strong> Testing returned error because daemon was not started with <code v-pre>-idindex=1</code></li>
</ul>
<hr>
<doc-anchor-target id="getidentitieswithrevocation">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentitieswithrevocation">#</doc-anchor-trigger>
        <span>getidentitieswithrevocation</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Returns all identities where a specified identity is set as the revocation authority. Requires the daemon to be started with <code v-pre>-idindex=1</code>.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentitieswithrevocation '{&quot;identityid&quot;:&quot;idori-address&quot;,&quot;fromheight&quot;:height,&quot;toheight&quot;:height,&quot;unspent&quot;:false}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| identityid | string | Yes | Name (e.g., <code v-pre>&quot;ari@&quot;</code>) or i-address — returns all identities where this is the revocation authority |
| fromheight | number | No | Default = 0. Search from this height forward only |
| toheight | number | No | Default = 0 (no limit). Search up to this height only |
| unspent | bool | No | Default = false. If true, only return active (unspent) ID UTXOs |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">[
  {
    &quot;identity&quot;: { ... },
    &quot;txout&quot;: { &quot;txhash&quot;: &quot;...&quot;, &quot;index&quot;: 0 }
  }
]</code></pre>
</doc-codeblock></div>
<p>An array of identity objects where the specified ID is the revocation authority.</p>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithrevocation '{&quot;identityid&quot;:&quot;ari@&quot;}'

## Actual Output (tested on VRSCTEST)
## ERROR: requires -idindex=1 when starting the daemon</code></pre>
</doc-codeblock></div>
<blockquote>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Requires <code v-pre>-idindex=1</code> daemon flag.</strong></p>
</blockquote>
<p><strong>Only Active Identities</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitieswithrevocation '{&quot;identityid&quot;:&quot;ari@&quot;,&quot;unspent&quot;:true}'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentitieswithrevocation&quot;,&quot;params&quot;:[{&quot;identityid&quot;:&quot;ari@&quot;}]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Revocation authority audit</strong>: Find all identities you can revoke</li>
<li><strong>Security review</strong>: Understand the scope of a revocation authority&#x27;s power</li>
<li><strong>Key rotation planning</strong>: Before changing a revocation authority, identify all affected identities</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>requires -idindex=1 when starting the daemon</code> | Daemon not started with identity index | Restart daemon with <code v-pre>-idindex=1</code> |
| <code v-pre>Identity not found</code> | The specified identity doesn&#x27;t exist | Verify the identity name or i-address |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentitieswithrecovery.md">getidentitieswithrecovery</a> — Find identities by recovery authority</li>
<li><a href="../identity/getidentitieswithaddress.md">getidentitieswithaddress</a> — Find identities by primary address</li>
<li><a href="../identity/getidentity.md">getidentity</a> — Look up a specific identity</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>Requires <code v-pre>-idindex=1</code></strong> daemon flag.</li>
<li>Revocation authority is the identity that can <em>revoke</em> (disable) an identity. This is a critical security role.</li>
<li>By default, an identity&#x27;s revocation authority is itself. Querying an identity will return at least that identity itself.</li>
<li>Revoking an identity prevents it from being used for signing or spending until it is recovered by the recovery authority.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
<li><strong>Note:</strong> Testing returned error because daemon was not started with <code v-pre>-idindex=1</code></li>
</ul>
<hr>
<doc-anchor-target id="getidentity">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentity">#</doc-anchor-trigger>
        <span>getidentity</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Retrieves the full identity object for a given VerusID name or i-address, optionally at a specific block height and with transaction proof.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentity &quot;name@ || iid&quot; (height) (txproof) (txproofheight)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| name@ || iid | string | Yes | Name followed by &quot;@&quot; or i-address of an identity |
| height | number | No | Return identity as of this height. Default = current height. Use <code v-pre>-1</code> to include mempool. |
| txproof | bool | No | Default = false. If true, returns proof of the identity transaction. |
| txproofheight | number | No | Default = same as <code v-pre>height</code>. Height from which to generate a proof. |</p>
<p><strong>Result</strong>
Returns a JSON object containing the full identity definition, status, and metadata.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;friendlyname&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;fullyqualifiedname&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;identity&quot;: {
    &quot;version&quot;: 3,
    &quot;flags&quot;: 0,
    &quot;primaryaddresses&quot;: [
      &quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;
    ],
    &quot;minimumsignatures&quot;: 1,
    &quot;name&quot;: &quot;ari&quot;,
    &quot;identityaddress&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
    &quot;parent&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
    &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
    &quot;contentmap&quot;: {},
    &quot;contentmultimap&quot;: { ... },
    &quot;revocationauthority&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
    &quot;recoveryauthority&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
    &quot;timelock&quot;: 0
  },
  &quot;status&quot;: &quot;active&quot;,
  &quot;canspendfor&quot;: true,
  &quot;cansignfor&quot;: true,
  &quot;blockheight&quot;: 926607,
  &quot;txid&quot;: &quot;51e1261ab8f5899dc7480b9b546f0b03a9c054fb160fd9f9dbdfec62d954379c&quot;,
  &quot;vout&quot;: 0
}</code></pre>
</doc-codeblock></div>
<p><strong>Key Fields</strong>
| Field | Description |
|-------|-------------|
| <code v-pre>friendlyname</code> | Human-readable fully-qualified name |
| <code v-pre>identity.version</code> | Identity protocol version (3 = current) |
| <code v-pre>identity.flags</code> | Bitfield: 0 = normal, 1 = activecurrency (can issue subIDs) |
| <code v-pre>identity.primaryaddresses</code> | Addresses that control spending |
| <code v-pre>identity.minimumsignatures</code> | Required signatures for multi-sig |
| <code v-pre>identity.identityaddress</code> | The i-address of this identity |
| <code v-pre>identity.parent</code> | Parent namespace i-address |
| <code v-pre>identity.contentmap</code> | Key-value content stored on the identity |
| <code v-pre>identity.contentmultimap</code> | Multi-value content (hex-encoded VDXF data) |
| <code v-pre>identity.revocationauthority</code> | Identity that can revoke this ID |
| <code v-pre>identity.recoveryauthority</code> | Identity that can recover this ID |
| <code v-pre>identity.timelock</code> | Block height before which the ID cannot be updated |
| <code v-pre>status</code> | &quot;active&quot; or &quot;revoked&quot; |
| <code v-pre>canspendfor</code> | Whether this wallet can spend for this identity |
| <code v-pre>cansignfor</code> | Whether this wallet can sign for this identity |
| <code v-pre>blockheight</code> | Block height of the latest identity transaction |
| <code v-pre>txid</code> | Transaction ID of the latest identity update |</p>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage — Lookup by Name</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentity &quot;ari@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>Lookup by i-Address</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentity &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;</code></pre>
</doc-codeblock></div>
<p><strong>Lookup at a Specific Block Height</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Get identity as it was at block 921081 (before any updates)
./verus -testnet getidentity &quot;ari@&quot; 921081

## Output shows empty contentmultimap (identity was freshly registered)
{
  &quot;friendlyname&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;identity&quot;: {
    &quot;version&quot;: 3,
    &quot;primaryaddresses&quot;: [&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;],
    &quot;name&quot;: &quot;ari&quot;,
    &quot;contentmultimap&quot;: {},
    ...
  },
  &quot;blockheight&quot;: 921081,
  ...
}</code></pre>
</doc-codeblock></div>
<p><strong>Include Mempool (Unconfirmed Updates)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentity &quot;ari@&quot; -1</code></pre>
</doc-codeblock></div>
<p><strong>With Transaction Proof</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentity &quot;ari@&quot; 926607 true</code></pre>
</doc-codeblock></div>
<p><strong>Lookup a SubID</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentity &quot;alice.agentplatform@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentity&quot;,&quot;params&quot;:[&quot;ari@&quot;]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Verify an identity exists</strong> before sending funds</li>
<li><strong>Check primary addresses</strong> to confirm ownership</li>
<li><strong>Inspect contentmultimap</strong> for on-chain metadata (e.g., agent profiles, VDXF data)</li>
<li><strong>Historical lookups</strong> to see an identity&#x27;s state at a past block height</li>
<li><strong>Proof generation</strong> for cross-chain or SPV verification</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>Identity not found</code> | Name doesn&#x27;t exist or is misspelled | Verify the name; remember to include <code v-pre>@</code> suffix |
| <code v-pre>Invalid identity</code> | Malformed i-address | Check the i-address format |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentityhistory.md">getidentityhistory</a> — Get all historical versions of an identity</li>
<li><a href="../identity/getidentitycontent.md">getidentitycontent</a> — Get aggregated content across identity history</li>
<li><a href="../identity/listidentities.md">listidentities</a> — List identities in the local wallet</li>
<li><a href="../identity/registernamecommitment.md">registernamecommitment</a> — First step to registering a new identity</li>
</ul>
<p><strong>Name Qualification</strong></p>
<p>Be careful with name qualification — it&#x27;s the most common source of &quot;Identity not found&quot; errors:</p>
<ul>
<li><code v-pre>&quot;alice@&quot;</code> → looks for a <strong>top-level</strong> identity called &quot;alice&quot;</li>
<li><code v-pre>&quot;alice.agentplatform@&quot;</code> → looks for a <strong>SubID</strong> &quot;alice&quot; under the &quot;agentplatform&quot; namespace</li>
<li><code v-pre>&quot;alice.VRSCTEST@&quot;</code> → fully qualified top-level name on testnet</li>
</ul>
<p>These are different identities! If alice only exists as a SubID under agentplatform, then <code v-pre>getidentity &quot;alice@&quot;</code> will return &quot;Identity not found&quot; while <code v-pre>getidentity &quot;alice.agentplatform@&quot;</code> succeeds.</p>
<p><strong>Notes</strong></p>
<ul>
<li>The <code v-pre>@</code> suffix is required when looking up by name (e.g., <code v-pre>&quot;ari@&quot;</code> not <code v-pre>&quot;ari&quot;</code>).</li>
<li>On VRSCTEST, names are displayed as <code v-pre>name.VRSCTEST@</code> in <code v-pre>fullyqualifiedname</code>.</li>
<li>The <code v-pre>contentmultimap</code> stores hex-encoded data keyed by VDXF i-addresses. Decode the hex to see the actual content.</li>
<li>When <code v-pre>flags</code> = 1, the identity can issue subIDs (has the <code v-pre>activecurrency</code> flag set).</li>
<li><code v-pre>canspendfor</code> and <code v-pre>cansignfor</code> are wallet-relative — they indicate whether the <em>current wallet</em> has the keys.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="getidentitycontent">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentitycontent">#</doc-anchor-trigger>
        <span>getidentitycontent</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Retrieves the aggregated content stored on an identity across all its historical updates, combining contentmap and contentmultimap values within a specified block range.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentitycontent &quot;name@ || iid&quot; (heightstart) (heightend) (txproofs) (txproofheight) (vdxfkey) (keepdeleted)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| name@ || iid | string | Yes | Name followed by &quot;@&quot; or i-address of an identity |
| heightstart | number | No | Default = 0. Only return content from this height forward (inclusive). |
| heightend | number | No | Default = 0 (max height). Only return content up to this height (inclusive). Use <code v-pre>-1</code> to include mempool. |
| txproofs | bool | No | Default = false. If true, returns proof of the identity transaction. |
| txproofheight | number | No | Default = &quot;height&quot;. Height from which to generate a proof. |
| vdxfkey | string | No | Default = null. Filter for specific VDXF key content only. |
| keepdeleted | bool | No | Default = false. If true, also returns deleted content items. |</p>
<p><strong>Result</strong>
Returns identity metadata plus a combined <code v-pre>contentmultimap</code> aggregated from all identity updates in the specified range. Unlike <code v-pre>getidentity</code> which shows only the latest state, this command collects <em>all</em> content values ever written across updates.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;fullyqualifiedname&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;status&quot;: &quot;active&quot;,
  &quot;canspendfor&quot;: true,
  &quot;cansignfor&quot;: true,
  &quot;blockheight&quot;: 926607,
  &quot;fromheight&quot;: 0,
  &quot;toheight&quot;: 926957,
  &quot;txid&quot;: &quot;51e1261ab8f5899dc7480b9b546f0b03a9c054fb160fd9f9dbdfec62d954379c&quot;,
  &quot;vout&quot;: 0,
  &quot;identity&quot;: {
    &quot;version&quot;: 3,
    &quot;name&quot;: &quot;ari&quot;,
    &quot;identityaddress&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
    &quot;contentmultimap&quot;: {
      &quot;iKLo9XnNwzec2dj92kX9QQpng5EfU8XHxo&quot;: [
        &quot;7b2276657273696f6e223a22312e30222c2274797065223a224149204167656e74227d&quot;,
        &quot;7b2276657273696f6e223a22312e30222c2274797065223a224149204167656e74227d&quot;,
        &quot;...&quot;
      ]
    },
    &quot;...&quot;
  }
}</code></pre>
</doc-codeblock></div>
<p><strong>Important:</strong> The <code v-pre>contentmultimap</code> in this response aggregates values from <em>every</em> identity update in the height range. This means duplicate entries appear if the same key was included in multiple updates. The <code v-pre>fromheight</code> and <code v-pre>toheight</code> fields confirm the search range.</p>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitycontent &quot;ari@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>Content from a Specific Height Range</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Only get content added between blocks 925000 and 926000
./verus -testnet getidentitycontent &quot;ari@&quot; 925000 926000</code></pre>
</doc-codeblock></div>
<p><strong>Include Mempool Content</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitycontent &quot;ari@&quot; 0 -1</code></pre>
</doc-codeblock></div>
<p><strong>Filter by VDXF Key</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitycontent &quot;ari@&quot; 0 0 false 0 &quot;iKLo9XnNwzec2dj92kX9QQpng5EfU8XHxo&quot;</code></pre>
</doc-codeblock></div>
<p><strong>Include Deleted Content</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitycontent &quot;ari@&quot; 0 0 false 0 &quot;&quot; true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentitycontent&quot;,&quot;params&quot;:[&quot;ari@&quot;]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Audit trail</strong>: See all content ever written to an identity across all updates</li>
<li><strong>Content aggregation</strong>: Collect all service listings, profile data, or VDXF records</li>
<li><strong>Selective queries</strong>: Use <code v-pre>vdxfkey</code> to search for specific content types</li>
<li><strong>Forensic analysis</strong>: Use <code v-pre>keepdeleted</code> to recover removed content</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>Identity not found</code> | Name doesn&#x27;t exist | Verify the name with <code v-pre>@</code> suffix |
| Empty contentmultimap | Identity has no on-chain content | This is valid — the identity simply has no stored data |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentity.md">getidentity</a> — Get current state of an identity (latest update only)</li>
<li><a href="../identity/getidentityhistory.md">getidentityhistory</a> — Get full identity objects at each update point</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Unlike <code v-pre>getidentity</code> which returns only the <em>current</em> content, <code v-pre>getidentitycontent</code> aggregates across all updates. This means you&#x27;ll see duplicate entries for content that was present in multiple updates.</li>
<li>Content values are hex-encoded. Decode with standard hex-to-string conversion.</li>
<li>The <code v-pre>vdxfkey</code> parameter is useful for efficiently querying a specific data type without downloading all content.</li>
<li><code v-pre>keepdeleted</code> is valuable for auditing — content that was removed in a later update can still be retrieved.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="getidentityhistory">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentityhistory">#</doc-anchor-trigger>
        <span>getidentityhistory</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Retrieves the complete history of an identity, returning the full identity object at each update point within a specified block range.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentityhistory &quot;name@ || iid&quot; (heightstart) (heightend) (txproofs) (txproofheight)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| name@ || iid | string | Yes | Name followed by &quot;@&quot; or i-address of an identity |
| heightstart | number | No | Default = 0. Only return history from this height forward (inclusive). |
| heightend | number | No | Default = 0 (max height). Only return history up to this height (inclusive). Use <code v-pre>-1</code> to include mempool. |
| txproofs | bool | No | Default = false. If true, returns proof of each identity transaction. |
| txproofheight | number | No | Default = &quot;height&quot;. Height from which to generate proofs. |</p>
<p><strong>Result</strong>
Returns identity metadata plus a <code v-pre>history</code> array containing the full identity object at each update, in chronological order.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;fullyqualifiedname&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;status&quot;: &quot;active&quot;,
  &quot;canspendfor&quot;: true,
  &quot;cansignfor&quot;: true,
  &quot;blockheight&quot;: 926607,
  &quot;txid&quot;: &quot;51e1261ab8f5899dc7480b9b546f0b03a9c054fb160fd9f9dbdfec62d954379c&quot;,
  &quot;vout&quot;: 0,
  &quot;history&quot;: [
    {
      &quot;identity&quot;: {
        &quot;version&quot;: 3,
        &quot;name&quot;: &quot;ari&quot;,
        &quot;contentmultimap&quot;: {}
      },
      &quot;blockhash&quot;: &quot;208172af9b283a1f06e5775f532134d6858393b076808fe415ea960dcca74125&quot;,
      &quot;height&quot;: 921081,
      &quot;output&quot;: {
        &quot;txid&quot;: &quot;b4af174d4bee117a8f6bd4fa47e5f0195d1409302aca4aeba08acd391e5c9954&quot;,
        &quot;voutnum&quot;: 0
      }
    },
    {
      &quot;identity&quot;: {
        &quot;version&quot;: 3,
        &quot;name&quot;: &quot;ari&quot;,
        &quot;contentmultimap&quot;: {
          &quot;iKLo9XnNwzec2dj92kX9QQpng5EfU8XHxo&quot;: [&quot;...&quot;]
        }
      },
      &quot;blockhash&quot;: &quot;00000000e60e18baa0daa50c6d55186face08c2f6d39ddc2557021cef7ef1130&quot;,
      &quot;height&quot;: 921090,
      &quot;output&quot;: { &quot;txid&quot;: &quot;edcfe0a06a...&quot;, &quot;voutnum&quot;: 0 }
    }
  ]
}</code></pre>
</doc-codeblock></div>
<p><em>(Output truncated — the <code v-pre>ari@</code> identity had 8 historical updates from block 921081 to 926607)</em></p>
<p><strong>History Entry Fields</strong>
| Field | Description |
|-------|-------------|
| <code v-pre>identity</code> | Full identity object at that point in time |
| <code v-pre>blockhash</code> | Hash of the block containing this update |
| <code v-pre>height</code> | Block height of this update |
| <code v-pre>output.txid</code> | Transaction ID of the identity UTXO |
| <code v-pre>output.voutnum</code> | Output index in the transaction |</p>
<p><strong>Examples</strong></p>
<p><strong>Full History</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentityhistory &quot;ari@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>History in a Block Range</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Only show updates between blocks 925000 and 926000
./verus -testnet getidentityhistory &quot;ari@&quot; 925000 926000</code></pre>
</doc-codeblock></div>
<p><strong>Include Mempool</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentityhistory &quot;ari@&quot; 0 -1</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentityhistory&quot;,&quot;params&quot;:[&quot;ari@&quot;]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Track identity changes</strong> over time (address changes, content updates, authority changes)</li>
<li><strong>Audit revocation/recovery authority changes</strong> for security analysis</li>
<li><strong>Reconstruct timeline</strong> of content updates to an identity</li>
<li><strong>Detect unauthorized modifications</strong> by comparing expected vs. actual state at each point</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>Identity not found</code> | Name doesn&#x27;t exist | Verify name with <code v-pre>@</code> suffix |
| Empty history array | No updates in the specified range | Widen the block range |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentity.md">getidentity</a> — Get current identity state only</li>
<li><a href="../identity/getidentitycontent.md">getidentitycontent</a> — Get aggregated content across updates</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Each entry in the <code v-pre>history</code> array represents a complete snapshot of the identity at that block height. You can see exactly what changed between updates by diffing consecutive entries.</li>
<li>The first entry is always the identity registration (creation) transaction.</li>
<li>Multiple updates can occur at the same block height (e.g., <code v-pre>ari@</code> had two updates at block 922296).</li>
<li>For identities with many updates, the response can be large. Use <code v-pre>heightstart</code>/<code v-pre>heightend</code> to limit scope.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="getidentitytrust">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#getidentitytrust">#</doc-anchor-trigger>
        <span>getidentitytrust</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Retrieves identity trust/rating settings for the local node. These settings control which identities the node will sync data for, acting as a local allowlist/blocklist system.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus getidentitytrust '[&quot;id&quot;,...]'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| ids | string array | No | If specified, only returns rating values for the listed IDs. If omitted or empty, returns all ratings. |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;setratings&quot;: { &quot;id&quot;: JSONRatingObject, ... },
  &quot;identitytrustmode&quot;: 0
}</code></pre>
</doc-codeblock></div>
<div class="table-wrapper scrollbar overflow-hidden">
<table class="comfortable">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>setratings</code></td>
<td>Key-value object mapping identity IDs to their rating objects</td>
</tr>
<tr>
<td><code v-pre>identitytrustmode</code></td>
<td><code v-pre>0</code> = no restriction on sync, <code v-pre>1</code> = only sync IDs rated approved, <code v-pre>2</code> = sync all IDs except those on block list</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples</strong></p>
<p><strong>Get All Trust Settings</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitytrust '[]'

## Actual Output (tested on VRSCTEST)
## (empty output — no trust ratings configured on this node)</code></pre>
</doc-codeblock></div>
<p><strong>Query Specific Identity</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet getidentitytrust '[&quot;ari@&quot;]'

## Actual Output (tested on VRSCTEST)
## (empty output — no rating set for ari@)</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;getidentitytrust&quot;,&quot;params&quot;:[[&quot;ari@&quot;]]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Check trust configuration</strong>: See which identities are allowed/blocked for sync</li>
<li><strong>Audit node settings</strong>: Verify trust mode before deploying</li>
<li><strong>Content filtering</strong>: Use in conjunction with <code v-pre>setidentitytrust</code> to control what data your node syncs</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Parse error | Malformed JSON array | Ensure proper JSON: <code v-pre>'[&quot;id1&quot;,&quot;id2&quot;]'</code> |
| Empty result | No trust ratings configured | This is normal for a default node — trust mode 0 means no restrictions |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/setidentitytrust.md">setidentitytrust</a> — Set trust ratings for identities</li>
<li><a href="../identity/getidentity.md">getidentity</a> — Look up an identity</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>When no trust ratings are configured and <code v-pre>identitytrustmode</code> is 0, the node syncs all identity data without restriction.</li>
<li>Trust mode 1 (allowlist) is the most restrictive — only explicitly approved IDs sync.</li>
<li>Trust mode 2 (blocklist) syncs everything except blocked IDs.</li>
<li>This is a <strong>local node setting</strong> — it does not affect the blockchain or other nodes.</li>
<li>The command returns empty output (not an error) when no ratings are set.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="listidentities">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#listidentities">#</doc-anchor-trigger>
        <span>listidentities</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Lists all identities in the local wallet, with options to filter by spending, signing, or watch-only capability.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus listidentities (includecanspend) (includecansign) (includewatchonly)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| includecanspend | bool | No | Default = true. Include identities the wallet can spend/authorize for. |
| includecansign | bool | No | Default = true. Include identities the wallet can only sign for (but not spend). |
| includewatchonly | bool | No | Default = false. Include identities the wallet can neither sign nor spend, but watches or co-signs for. |</p>
<p><strong>Result</strong>
Returns an array of identity objects with wallet-specific status fields.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">[
  {
    &quot;identity&quot;: {
      &quot;version&quot;: 3,
      &quot;flags&quot;: 0,
      &quot;primaryaddresses&quot;: [&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;],
      &quot;minimumsignatures&quot;: 1,
      &quot;name&quot;: &quot;ari&quot;,
      &quot;identityaddress&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
      &quot;parent&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
      &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
      &quot;contentmap&quot;: {},
      &quot;contentmultimap&quot;: { &quot;...&quot; },
      &quot;revocationauthority&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
      &quot;recoveryauthority&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
      &quot;timelock&quot;: 0
    },
    &quot;blockheight&quot;: 926607,
    &quot;txid&quot;: &quot;51e1261ab8f5899dc7480b9b546f0b03a9c054fb160fd9f9dbdfec62d954379c&quot;,
    &quot;status&quot;: &quot;active&quot;,
    &quot;canspendfor&quot;: true,
    &quot;cansignfor&quot;: true
  },
  {
    &quot;identity&quot;: {
      &quot;name&quot;: &quot;agentplatform&quot;,
      &quot;flags&quot;: 1,
      &quot;identityaddress&quot;: &quot;i7xKUpKQDSriYFfgHYfRpFc2uzRKWLDkjW&quot;,
      &quot;...&quot;
    },
    &quot;blockheight&quot;: 926587,
    &quot;status&quot;: &quot;active&quot;,
    &quot;canspendfor&quot;: true,
    &quot;cansignfor&quot;: true
  },
  {
    &quot;identity&quot;: {
      &quot;name&quot;: &quot;arimultisig&quot;,
      &quot;primaryaddresses&quot;: [
        &quot;RFgbPkbeFADR2tMk6sAW9teTKtzTbWnTMT&quot;,
        &quot;RNJVffPkMQoSfF7Ww4W3QaRCRp6ajZrB4o&quot;
      ],
      &quot;minimumsignatures&quot;: 2,
      &quot;...&quot;
    },
    &quot;status&quot;: &quot;active&quot;,
    &quot;canspendfor&quot;: false,
    &quot;cansignfor&quot;: true
  }
]</code></pre>
</doc-codeblock></div>
<p><em>(Output truncated — test wallet contained 10 identities including ari@, agentplatform@, alice.agentplatform@, bob.agentplatform@, and others)</em></p>
<p><strong>Notable Observations from Testing</strong></p>
<ul>
<li><code v-pre>canspendfor: true</code> — wallet has enough keys to meet <code v-pre>minimumsignatures</code></li>
<li><code v-pre>canspendfor: false, cansignfor: true</code> — wallet has <em>some</em> keys but not enough (e.g., <code v-pre>arimultisig@</code> requires 2 of 2 sigs, wallet only has 1 key)</li>
<li>SubIDs (like <code v-pre>alice.agentplatform@</code>) appear alongside top-level IDs</li>
</ul>
<p><strong>Examples</strong></p>
<p><strong>List All Spendable Identities (Default)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet listidentities</code></pre>
</doc-codeblock></div>
<p><strong>Only Signable (Not Spendable)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet listidentities false true false</code></pre>
</doc-codeblock></div>
<p><strong>Include Watch-Only</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet listidentities true true true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;listidentities&quot;,&quot;params&quot;:[true]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Wallet inventory</strong>: See all identities controlled by this wallet</li>
<li><strong>Multi-sig audit</strong>: Identify which identities the wallet can sign for but not fully spend</li>
<li><strong>Application startup</strong>: Enumerate available identities for a user interface</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Empty array <code v-pre>[]</code> | No identities in wallet | Register an identity or import keys |
| Wallet not loaded | Wallet is encrypted/locked | Unlock wallet with <code v-pre>walletpassphrase</code> |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/getidentity.md">getidentity</a> — Get details for a specific identity</li>
<li><a href="../identity/registernamecommitment.md">registernamecommitment</a> — Begin registering a new identity</li>
<li><a href="../identity/registeridentity.md">registeridentity</a> — Complete identity registration</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>This command only shows identities for which the local wallet has relevant keys. It does <strong>not</strong> search the entire blockchain.</li>
<li>The distinction between <code v-pre>canspendfor</code> and <code v-pre>cansignfor</code> matters for multi-sig identities. A wallet might hold 1 of 2 required keys — it can sign but not spend alone.</li>
<li>SubIDs (e.g., <code v-pre>alice.agentplatform@</code>) appear in the list if the wallet holds their keys, even if the parent identity is a different wallet.</li>
<li>The <code v-pre>flags</code> field value of <code v-pre>1</code> indicates the identity has the <code v-pre>activecurrency</code> flag (can issue subIDs).</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="recoveridentity">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#recoveridentity">#</doc-anchor-trigger>
        <span>recoveridentity</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p><span class="docs-emoji">&#x26A0;&#xFE0F;</span> <strong>SENSITIVE</strong> — Recover a revoked VerusID by providing a new identity definition with updated keys.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus recoveridentity &quot;jsonidentity&quot; (returntx) (tokenrecover) (feeoffer) (sourceoffunds)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| jsonidentity | object | Yes | New identity definition with updated keys/addresses |
| returntx | bool | No | If true, return signed tx instead of broadcasting. Default: false |
| tokenrecover | bool | No | If true, use tokenized ID control token for recovery. Default: false |
| feeoffer | value | No | Non-standard fee amount |
| sourceoffunds | string | No | Transparent or private address to source fees from |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">transactionid    (string) txid if returntx is false, or hex transaction if returntx is true</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> UNTESTED — Recovery is only possible on revoked identities</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Recover a revoked identity with new primary addresses
./verus -testnet recoveridentity '{&quot;name&quot;:&quot;myname&quot;, &quot;primaryaddresses&quot;:[&quot;RNewAddressHere&quot;], &quot;minimumsignatures&quot;:1}'</code></pre>
</doc-codeblock></div>
<p><strong>Full Recovery with New Authorities</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet recoveridentity '{
  &quot;name&quot;: &quot;myname&quot;,
  &quot;primaryaddresses&quot;: [&quot;RNewAddress1&quot;],
  &quot;minimumsignatures&quot;: 1,
  &quot;revocationauthority&quot;: &quot;newrevoker@&quot;,
  &quot;recoveryauthority&quot;: &quot;newrecoverer@&quot;
}'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;recoveridentity&quot;,&quot;params&quot;:[{&quot;name&quot;:&quot;myname&quot;,&quot;primaryaddresses&quot;:[&quot;RNewAddr&quot;],&quot;minimumsignatures&quot;:1}]}' -H 'content-type: text/plain;' http://127.0.0.1:27486/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Key compromise recovery</strong> — revoke the identity, then recover with fresh keys</li>
<li><strong>Key rotation</strong> — revoke + recover as a way to completely rotate all identity keys</li>
<li><strong>Regain access</strong> — recover an identity that was revoked (intentionally or by revocation authority)</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Not authorized | Wallet doesn&#x27;t hold recovery authority keys | Import the recovery authority&#x27;s private key |
| Identity not revoked | Cannot recover an identity that isn&#x27;t revoked | Revoke first with <code v-pre>revokeidentity</code> |
| Identity not found | Invalid name or i-address | Check the identity name/address |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="revokeidentity.md"><code v-pre>revokeidentity</code></a> — Revoke an identity (required before recovery)</li>
<li><a href="updateidentity.md"><code v-pre>updateidentity</code></a> — Update identity (for non-revoked IDs)</li>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — Check current identity status</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Recovery requires the <strong>recovery authority</strong> keys — not the primary keys or revocation authority</li>
<li>The identity must be in a <strong>revoked state</strong> before it can be recovered</li>
<li>Recovery lets you set <strong>completely new</strong> primary addresses, effectively rotating all keys</li>
<li>You can also change the revocation and recovery authorities during recovery</li>
<li>This is the last line of defense — if both primary keys AND recovery authority are compromised, the identity is lost</li>
<li>Best practice: set recovery authority to a cold-storage identity or a trusted multisig</li>
<li>For subIDs, include the <code v-pre>parent</code> field (same gotcha as <code v-pre>updateidentity</code>)</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Not tested (requires a revoked identity)</li>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="registeridentity">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#registeridentity">#</doc-anchor-trigger>
        <span>registeridentity</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Register a new VerusID identity on-chain using a prior name commitment.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus registeridentity &quot;jsonidregistration&quot; (returntx) (feeoffer) (sourceoffunds)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| jsonidregistration | object | Yes | JSON object containing txid, namereservation, and identity definition |
| returntx | bool | No | If true, return signed tx hex instead of broadcasting. Default: false |
| feeoffer | amount | No | Fee to offer miner/staker. If omitted, uses standard price |
| sourceoffunds | string | No | Address to source funds from. Default: transparent wildcard &quot;*&quot; |</p>
<p><strong>jsonidregistration Structure</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;txid&quot;: &quot;hexid&quot;,
  &quot;namereservation&quot;: {
    &quot;name&quot;: &quot;namestr&quot;,
    &quot;salt&quot;: &quot;hexstr&quot;,
    &quot;referral&quot;: &quot;identityID&quot;,
    &quot;parent&quot;: &quot;&quot;,
    &quot;nameid&quot;: &quot;iAddress&quot;,
    &quot;version&quot;: 1
  },
  &quot;identity&quot;: {
    &quot;name&quot;: &quot;namestr&quot;,
    &quot;primaryaddresses&quot;: [&quot;Raddress&quot;],
    &quot;minimumsignatures&quot;: 1,
    &quot;revocationauthority&quot;: &quot;nameorID&quot;,
    &quot;recoveryauthority&quot;: &quot;nameorID&quot;,
    &quot;privateaddress&quot;: &quot;zs-address&quot;
  }
}</code></pre>
</doc-codeblock></div>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">transactionid    (string) The transaction ID of the registration</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> UNTESTED — Registration requires a prior <code v-pre>registernamecommitment</code> and costs VRSC</strong></p>
<p><strong>Two-Step Registration Process</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Step 1: Create a name commitment (returns txid, salt, etc.)
./verus -testnet registernamecommitment &quot;myname&quot; &quot;controladdress&quot; &quot;referralID&quot;

## Step 2: Register using the commitment output
./verus -testnet registeridentity '{
  &quot;txid&quot;: &quot;commitment_txid_hex&quot;,
  &quot;namereservation&quot;: {
    &quot;name&quot;: &quot;myname&quot;,
    &quot;salt&quot;: &quot;salt_from_commitment&quot;,
    &quot;referral&quot;: &quot;referralID@&quot;,
    &quot;parent&quot;: &quot;&quot;,
    &quot;nameid&quot;: &quot;nameid_from_commitment&quot;,
    &quot;version&quot;: 1
  },
  &quot;identity&quot;: {
    &quot;name&quot;: &quot;myname&quot;,
    &quot;primaryaddresses&quot;: [&quot;RAWwNeTLRg9urgnDPQtPyZ6NRycsmSY2J2&quot;],
    &quot;minimumsignatures&quot;: 1,
    &quot;version&quot;: 3
  }
}'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;registeridentity&quot;,&quot;params&quot;:[{&quot;txid&quot;:&quot;hexid&quot;,&quot;namereservation&quot;:{&quot;name&quot;:&quot;myname&quot;,&quot;salt&quot;:&quot;hexsalt&quot;,&quot;referral&quot;:&quot;&quot;},&quot;identity&quot;:{&quot;name&quot;:&quot;myname&quot;,&quot;primaryaddresses&quot;:[&quot;Raddr&quot;],&quot;minimumsignatures&quot;:1}}]}' -H 'content-type: text/plain;' http://127.0.0.1:27486/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Creating a new VerusID</strong> — the standard way to register an identity after name commitment</li>
<li><strong>Multisig identity</strong> — specify multiple <code v-pre>primaryaddresses</code> and set <code v-pre>minimumsignatures</code> &gt; 1</li>
<li><strong>With referral</strong> — include a referral identity for fee discount</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Name commitment not found | Invalid or expired txid | Create a new <code v-pre>registernamecommitment</code> |
| Name already registered | Someone registered the name first | Choose a different name |
| Insufficient funds | Not enough VRSC for registration fee | Fund the wallet or specify <code v-pre>sourceoffunds</code> |
| Must wait for commitment to be mined | Commitment tx not yet confirmed | Wait for at least 1 confirmation |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="registernamecommitment.md"><code v-pre>registernamecommitment</code></a> — Step 1: create a name commitment (required before registeridentity)</li>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — Look up a registered identity</li>
<li><a href="updateidentity.md"><code v-pre>updateidentity</code></a> — Modify an existing identity</li>
<li><a href="listidentities.md"><code v-pre>listidentities</code></a> — List identities in wallet</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Registration is a <strong>two-step process</strong>: first <code v-pre>registernamecommitment</code>, then <code v-pre>registeridentity</code></li>
<li>The name commitment must be mined (1 confirmation) before registration</li>
<li>Name commitments expire — register promptly after commitment confirms</li>
<li>Registration fee varies by chain; use <code v-pre>feeoffer</code> to override</li>
<li>Identity names are <strong>case-insensitive</strong> and unique per parent chain</li>
<li>Once registered, an identity cannot be deleted, only revoked/recovered</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Not directly tested (destructive/costly operation)</li>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="registernamecommitment">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#registernamecommitment">#</doc-anchor-trigger>
        <span>registernamecommitment</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Registers a name commitment, which is the required first step for registering a new VerusID. The commitment hides the desired name in a hash to prevent front-running by miners, while ensuring fair name registration.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus registernamecommitment &quot;name&quot; &quot;controladdress&quot; (&quot;referralidentity&quot;) (&quot;parentnameorid&quot;) (&quot;sourceoffunds&quot;)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| name | string | Yes | The unique name to commit to. Creating a commitment for a name that already exists will succeed but can never be used. |
| controladdress | address | Yes | Address that controls this commitment. Must be in the current wallet. <strong>Not necessarily the address that will control the final ID.</strong> Change may go to this address. |
| referralidentity | identity | No | Friendly name or i-address used as referral — lowers network cost of the ID. |
| parentnameorid | currency | No | Parent namespace name or i-address (PBaaS only). Dictates issuance rules &amp; pricing. |
| sourceoffunds | address/id | No | Address to use as source of funds. Default: transparent wildcard <code v-pre>&quot;*&quot;</code>. |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;txid&quot;: &quot;hexid&quot;,
  &quot;namereservation&quot;: {
    &quot;name&quot;: &quot;namestr&quot;,
    &quot;salt&quot;: &quot;hexstr&quot;,
    &quot;referral&quot;: &quot;identityaddress&quot;,
    &quot;parent&quot;: &quot;namestr&quot;,
    &quot;nameid&quot;: &quot;address&quot;
  }
}</code></pre>
</doc-codeblock></div>
<div class="table-wrapper scrollbar overflow-hidden">
<table class="comfortable">
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>txid</code></td>
<td>Transaction ID of the commitment transaction</td>
</tr>
<tr>
<td><code v-pre>namereservation.name</code></td>
<td>The name being committed to</td>
</tr>
<tr>
<td><code v-pre>namereservation.salt</code></td>
<td>Random salt used to hide the commitment (keep this!)</td>
</tr>
<tr>
<td><code v-pre>namereservation.referral</code></td>
<td>Referral identity address (if provided)</td>
</tr>
<tr>
<td><code v-pre>namereservation.parent</code></td>
<td>Parent namespace name</td>
</tr>
<tr>
<td><code v-pre>namereservation.nameid</code></td>
<td>The i-address the identity will have if registered</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples</strong></p>
<p><strong>Basic Name Commitment</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet registernamecommitment &quot;mynewid&quot; &quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;</code></pre>
</doc-codeblock></div>
<p><strong>With Referral Identity</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet registernamecommitment &quot;mynewid&quot; &quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot; &quot;ari@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>SubID Under a Parent Namespace</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet registernamecommitment &quot;newagent&quot; &quot;RAWwNeTLRg9urgnDPQtPyZ6NRycsmSY2J2&quot; &quot;&quot; &quot;agentplatform@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl -s -u user1445741888:pass2f0dc70dded67b9f392c0f3950a547bc6ef4d1edfa78da3a7da5b78113def067b6 \
  -X POST http://localhost:18843 \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;method&quot;:&quot;registernamecommitment&quot;,&quot;params&quot;:[&quot;mynewid&quot;,&quot;RPgqkB6eLa6wqxq4PBBo3wk7dzNYmJvLt5&quot;]}'</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Step 1 of identity registration</strong>: Always required before <code v-pre>registeridentity</code></li>
<li><strong>Name squatting prevention</strong>: The commitment-reveal scheme prevents miners from stealing names</li>
<li><strong>SubID creation</strong>: Use <code v-pre>parentnameorid</code> to create identities under a namespace you control</li>
</ul>
<p><strong>Two-Step Registration Process</strong></p>
<ol>
<li><strong><code v-pre>registernamecommitment</code></strong> — Creates a hidden commitment (this command)</li>
<li>Wait for the commitment to be mined (at least 1 confirmation)</li>
<li><strong><code v-pre>registeridentity</code></strong> — Reveals the name and completes registration using the commitment output</li>
</ol>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Step 1: Commit
./verus -testnet registernamecommitment &quot;myname&quot; &quot;RMyAddress...&quot;

## Step 2: Wait for confirmation, then register
./verus -testnet registeridentity '{&quot;txid&quot;:&quot;&lt;txid&gt;&quot;,&quot;namereservation&quot;:{&quot;name&quot;:&quot;myname&quot;,&quot;salt&quot;:&quot;&lt;salt&gt;&quot;,&quot;nameid&quot;:&quot;&lt;nameid&gt;&quot;},&quot;identity&quot;:{&quot;name&quot;:&quot;myname&quot;,&quot;primaryaddresses&quot;:[&quot;RMyAddress...&quot;],&quot;minimumsignatures&quot;:1}}'</code></pre>
</doc-codeblock></div>
<p><strong>Name Rules</strong>
Names must <strong>not</strong> have:</p>
<ul>
<li>Leading, trailing, or multiple consecutive spaces</li>
<li>Any of these characters: <code v-pre>\ / : * ? &quot; &lt; &gt; | @</code></li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| <code v-pre>Insufficient funds</code> | Not enough VRSC/VRSCTEST in wallet | Fund the control address |
| <code v-pre>Invalid name</code> | Name contains forbidden characters | Remove special characters (see Name Rules above) |
| <code v-pre>Invalid Verus address</code> | Control address not valid | Use a valid R-address from the current wallet |
| Commitment for existing name | Name already registered | The commitment succeeds but <code v-pre>registeridentity</code> will fail. Check name availability first with <code v-pre>getidentity</code>. |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="../identity/registeridentity.md">registeridentity</a> — Step 2: Complete registration using the commitment</li>
<li><a href="../identity/getidentity.md">getidentity</a> — Check if a name is already taken</li>
<li><a href="../identity/listidentities.md">listidentities</a> — List identities in your wallet</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>Save the output!</strong> The <code v-pre>namereservation</code> object (especially <code v-pre>salt</code>) is required for <code v-pre>registeridentity</code>. If lost, the commitment is wasted.</li>
<li>The commitment must be mined before you can register. Wait for at least 1 block confirmation.</li>
<li>Creating a commitment does <strong>not</strong> guarantee the name — someone else could register it first if they had an earlier commitment.</li>
<li>The <code v-pre>controladdress</code> receives change from the commitment transaction. It does not need to be a primary address of the final identity.</li>
<li>Commitments expire after a certain number of blocks if not used with <code v-pre>registeridentity</code>.</li>
<li>On testnet, identity registration costs are minimal. On mainnet, costs vary and referrals can reduce fees.</li>
<li><strong>Did not run live test</strong> to avoid creating unnecessary commitments on testnet. The command structure and parameters are documented from help text and prior testing experience.</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 1.2.14-2</li>
</ul>
<hr>
<doc-anchor-target id="revokeidentity">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#revokeidentity">#</doc-anchor-trigger>
        <span>revokeidentity</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p><span class="docs-emoji">&#x26A0;&#xFE0F;</span> <strong>DESTRUCTIVE</strong> — Revoke a VerusID, disabling it from signing, spending, or being used for authentication until recovered.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus revokeidentity &quot;nameorID&quot; (returntx) (tokenrevoke) (feeoffer) (sourceoffunds)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| nameorID | string | Yes | The identity name (e.g., <code v-pre>ari@</code>) or i-address to revoke |
| returntx | bool | No | If true, return signed tx instead of broadcasting. Default: false |
| tokenrevoke | bool | No | If true, use tokenized ID control token for revocation. Default: false |
| feeoffer | value | No | Non-standard fee amount |
| sourceoffunds | string | No | Transparent or private address to source fees from |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">transactionid    (string) txid if returntx is false, or hex transaction if returntx is true</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> UNTESTED — This is a destructive operation</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Revoke an identity (CAUTION: identity becomes unusable until recovered)
./verus -testnet revokeidentity &quot;myidentity@&quot;</code></pre>
</doc-codeblock></div>
<p><strong>Dry Run (inspect before broadcasting)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Return transaction hex without broadcasting
./verus -testnet revokeidentity &quot;myidentity@&quot; true</code></pre>
</doc-codeblock></div>
<p><strong>Token-Based Revocation</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Use tokenized control token for revocation authority
./verus -testnet revokeidentity &quot;myidentity@&quot; false true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;revokeidentity&quot;,&quot;params&quot;:[&quot;myidentity@&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:27486/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Compromised identity</strong> — immediately revoke if private keys are stolen</li>
<li><strong>Security lockdown</strong> — revoke to prevent any transactions while investigating a breach</li>
<li><strong>Pre-recovery</strong> — revoke before using <code v-pre>recoveridentity</code> to rotate keys</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Not authorized | Wallet doesn&#x27;t hold revocation authority keys | Import the revocation authority&#x27;s private key |
| Identity not found | Invalid name or i-address | Check the identity name/address |
| Already revoked | Identity is already in revoked state | Use <code v-pre>recoveridentity</code> to restore |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="recoveridentity.md"><code v-pre>recoveridentity</code></a> — Recover a revoked identity with new keys</li>
<li><a href="updateidentity.md"><code v-pre>updateidentity</code></a> — Update identity (cannot be done while revoked)</li>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — Check identity status (flags will show revoked state)</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>This is a destructive operation</strong> — a revoked identity cannot sign, spend funds, or authenticate</li>
<li>Revocation requires the <strong>revocation authority</strong> keys, not the primary keys</li>
<li>After revocation, only <code v-pre>recoveridentity</code> (using the <strong>recovery authority</strong>) can restore the identity</li>
<li>It&#x27;s good practice to set revocation and recovery authorities to <strong>different</strong> identities for security</li>
<li>Use <code v-pre>returntx true</code> to inspect the transaction before committing</li>
<li>Revocation is an on-chain transaction — it takes effect once mined</li>
<li>The revocation and recovery authority design means even if primary keys are compromised, you can revoke and recover</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Not tested (destructive operation)</li>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="setidentitytimelock">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#setidentitytimelock">#</doc-anchor-trigger>
        <span>setidentitytimelock</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Enable timelocking and unlocking of fund access for an on-chain VerusID. Provides time-delayed security against unauthorized spending.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus setidentitytimelock &quot;id@&quot; '{&quot;unlockatblock&quot;: height}' (returntx) (feeoffer) (sourceoffunds)
verus setidentitytimelock &quot;id@&quot; '{&quot;setunlockdelay&quot;: blocks}' (returntx) (feeoffer) (sourceoffunds)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| id@ | string | Yes | The identity name or i-address to timelock |
| unlockatblock | number | No* | Absolute block height at which the ID unlocks. Countdown starts immediately when mined |
| setunlockdelay | number | No* | Number of blocks to delay after an unlock request before funds become spendable |
| returntx | bool | No | If true, return signed tx instead of broadcasting. Default: false |
| feeoffer | value | No | Non-standard fee amount |
| sourceoffunds | string | No | Transparent or private address to source fees from |</p>
<p>*One of <code v-pre>unlockatblock</code> or <code v-pre>setunlockdelay</code> must be specified, but not both.</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">hexstring    (string) txid if returntx is false, or hex serialized transaction if returntx is true</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> UNTESTED — Timelocking is a sensitive operation that restricts fund access</strong></p>
<p><strong>Set an Unlock Delay (Recommended for Security)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Require 100 blocks (~100 minutes) delay after unlock request before spending
./verus -testnet setidentitytimelock &quot;myid@&quot; '{&quot;setunlockdelay&quot;: 100}'</code></pre>
</doc-codeblock></div>
<p><strong>Set Absolute Unlock Time</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Lock until block 1000000 — countdown starts immediately
./verus -testnet setidentitytimelock &quot;myid@&quot; '{&quot;unlockatblock&quot;: 1000000}'</code></pre>
</doc-codeblock></div>
<p><strong>Unlock a Delayed Identity</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Set unlockatblock to current block to begin the unlock delay countdown
./verus -testnet setidentitytimelock &quot;myid@&quot; '{&quot;unlockatblock&quot;: 926957}'</code></pre>
</doc-codeblock></div>
<p><strong>Dry Run</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet setidentitytimelock &quot;myid@&quot; '{&quot;setunlockdelay&quot;: 100}' true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;setidentitytimelock&quot;,&quot;params&quot;:[&quot;myid@&quot;,{&quot;setunlockdelay&quot;:100}]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Cold storage security</strong> — lock an identity so funds can&#x27;t be spent instantly even if keys are compromised</li>
<li><strong>Delayed withdrawal</strong> — give yourself a window to revoke if unauthorized unlock is detected</li>
<li><strong>Service integration</strong> — services can check lock status and refuse transfers when locked</li>
</ul>
<p><strong>Two Locking Modes</strong></p>
<p><strong><code v-pre>setunlockdelay</code> (Relative Lock)</strong></p>
<ul>
<li>Sets a <strong>delay period</strong> (in blocks) that must pass after an unlock request</li>
<li>Unlock request = calling <code v-pre>setidentitytimelock</code> with <code v-pre>unlockatblock</code> set to current block</li>
<li>The delay countdown <strong>only starts</strong> when you actively request unlock</li>
<li>Best for: ongoing security (like a time-lock safe)</li>
</ul>
<p><strong><code v-pre>unlockatblock</code> (Absolute Lock)</strong></p>
<ul>
<li>Locks until a <strong>specific block height</strong></li>
<li>Countdown starts <strong>immediately</strong> when the transaction is mined</li>
<li>Set to current block height to begin unlocking (still subject to any unlock delay)</li>
<li>Best for: scheduled unlocks or initiating the unlock process</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Cannot specify both | Both unlockatblock and setunlockdelay provided | Use only one at a time |
| Not authorized | Wallet doesn&#x27;t hold identity&#x27;s signing keys | Import the primary key |
| Identity not found | Invalid name or i-address | Verify the identity exists |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — Check current timelock status in identity flags</li>
<li><a href="updateidentity.md"><code v-pre>updateidentity</code></a> — General identity updates</li>
<li><a href="revokeidentity.md"><code v-pre>revokeidentity</code></a> — Revoke/recover can bypass timelock</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Timelocking is <strong>per-chain</strong> — it does not affect the same identity exported to other chains</li>
<li>A timelocked identity <strong>prevents all updates</strong> (including contentmultimap changes) until unlocked</li>
<li><strong>Locked funds can still stake</strong> — timelocking does not prevent staking rewards</li>
<li>The <strong>only way to remove a timelock</strong> is through <strong>revoke and recover</strong> — this is by design. Revoking and recovering a timelocked identity removes the timelock entirely</li>
<li>There is no other mechanism to cancel or shorten a timelock once set</li>
<li>Services supporting VerusID authentication may also honor the lock status for non-spending operations</li>
<li>Average block time on Verus is ~62 seconds, so ~1394 blocks ≈ 1 day (1440 blocks ≈ 24.8 hours)</li>
<li>Use <code v-pre>getidentity</code> to check the current lock state and timelock parameters</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Not directly tested (would lock fund access)</li>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="setidentitytrust">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#setidentitytrust">#</doc-anchor-trigger>
        <span>setidentitytrust</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Set trust ratings for VerusIDs and configure identity trust mode for wallet sync filtering.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus setidentitytrust '{&quot;clearall&quot;: bool, &quot;setratings&quot;:{&quot;id&quot;:JSONRatingObject,...}, &quot;removeratings&quot;:[&quot;id&quot;,...], &quot;identitytrustmode&quot;: n}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| clearall | bool | No | If true, clears all wallet trust lists before applying changes |
| setratings | object | No | Key-value pairs of identity names/addresses to rating objects |
| removeratings | array | No | Array of identity names/addresses to remove from trust list |
| identitytrustmode | number | No | 0 = no restriction, 1 = only sync approved IDs, 2 = sync all except blocked |</p>
<p><strong>Trust Modes</strong>
| Mode | Behavior |
|------|----------|
| 0 | No restriction on identity sync (default) |
| 1 | Only sync identities rated as approved |
| 2 | Sync all identities except those on the block list |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">No return on success, error on failure.</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Set Trust Rating for an Identity</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Set trust level for ari@
./verus -testnet setidentitytrust '{&quot;setratings&quot;:{&quot;ari@&quot;:{&quot;trustlevel&quot;:2}}, &quot;identitytrustmode&quot;:0}'

## Actual Output (tested on VRSCTEST)
## (no output — success returns nothing)</code></pre>
</doc-codeblock></div>
<p><strong>Remove Trust Ratings</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet setidentitytrust '{&quot;removeratings&quot;:[&quot;ari@&quot;]}'</code></pre>
</doc-codeblock></div>
<p><strong>Clear All and Set Fresh</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet setidentitytrust '{&quot;clearall&quot;:true, &quot;setratings&quot;:{&quot;ari@&quot;:{&quot;trustlevel&quot;:1}}, &quot;identitytrustmode&quot;:1}'</code></pre>
</doc-codeblock></div>
<p><strong>Read Trust Ratings</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Use getidentitytrust to read (separate command)
./verus -testnet getidentitytrust '[&quot;ari@&quot;]'</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;setidentitytrust&quot;,&quot;params&quot;:[{&quot;setratings&quot;:{&quot;ari@&quot;:{&quot;trustlevel&quot;:2}},&quot;identitytrustmode&quot;:0}]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Whitelist identities</strong> — approve specific IDs for sync in restrictive mode</li>
<li><strong>Block spam identities</strong> — add untrusted IDs to block list with mode 2</li>
<li><strong>Wallet sync optimization</strong> — limit which identities your wallet tracks</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Invalid JSON | Malformed JSON input | Validate JSON syntax |
| Unknown identity | Identity name doesn&#x27;t resolve | Use i-address instead |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><code v-pre>getidentitytrust</code> — Read current trust ratings and mode</li>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — Look up identity details</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Trust ratings are <strong>local to your wallet</strong> — they don&#x27;t affect the blockchain</li>
<li>Trust mode controls which identities your wallet syncs/tracks</li>
<li>Mode 1 (approved only) is the most restrictive — useful for resource-constrained nodes</li>
<li>The <code v-pre>setratings</code> and <code v-pre>removeratings</code> operations can be combined in a single call</li>
<li><code v-pre>clearall</code> is processed first, then <code v-pre>setratings</code>, then <code v-pre>removeratings</code></li>
<li>Success returns no output (null) — check with <code v-pre>getidentitytrust</code> to confirm</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="signdata">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#signdata">#</doc-anchor-trigger>
        <span>signdata</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Sign data with a VerusID or t-address using advanced options including VDXF keys, bound hashes, hash type selection, and MMR (Merkle Mountain Range) support.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus signdata '{&quot;address&quot;:&quot;id@&quot;, &quot;message&quot;:&quot;data&quot;, ...}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | VerusID (e.g., <code v-pre>ari@</code>) or t-address to sign with |
| message | string | No* | Plain text message to sign |
| filename | string | No* | File path to sign |
| messagehex | string | No* | Hex-encoded data to sign |
| messagebase64 | string | No* | Base64-encoded data to sign |
| datahash | string | No* | Pre-computed 256-bit hex hash to sign directly |
| vdxfdata | string | No* | VDXF-encoded data to sign |
| prefixstring | string | No | Extra string hashed during signature (must be supplied for verification) |
| vdxfkeys | array | No | Array of VDXF key i-addresses to bind to signature |
| vdxfkeynames | array | No | Array of VDXF key names or friendly IDs |
| boundhashes | array | No | Array of hex hashes to bind to signature |
| hashtype | string | No | <code v-pre>sha256</code> (default), <code v-pre>sha256D</code>, <code v-pre>blake2b</code>, or <code v-pre>keccak256</code> |
| encrypttoaddress | string | No | Sapling address to encrypt data to |
| createmmr | bool | No | If true, creates MMR from multiple data items |
| mmrdata | array | No | Array of data objects for MMR signing |
| mmrsalt | array | No | Salt values for MMR leaf privacy |
| mmrhash | string | No | Hash type for MMR (default: blake2b) |
| signature | string | No | Current partial signature for multisig IDs |
| priormmr | array | No | Prior MMR data (currently UNIMPLEMENTED in daemon) |</p>
<p>*One data parameter is required.</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;signaturedata&quot;: {
    &quot;version&quot;: 1,
    &quot;systemid&quot;: &quot;iAddress&quot;,
    &quot;hashtype&quot;: 5,
    &quot;signaturehash&quot;: &quot;hexhash&quot;,
    &quot;identityid&quot;: &quot;iAddress&quot;,
    &quot;signaturetype&quot;: 1,
    &quot;signature&quot;: &quot;base64sig&quot;
  },
  &quot;system&quot;: &quot;VRSCTEST&quot;,
  &quot;systemid&quot;: &quot;iAddress&quot;,
  &quot;hashtype&quot;: &quot;sha256&quot;,
  &quot;hash&quot;: &quot;hexhash&quot;,
  &quot;identity&quot;: &quot;name@&quot;,
  &quot;canonicalname&quot;: &quot;name@&quot;,
  &quot;address&quot;: &quot;iAddress&quot;,
  &quot;signatureheight&quot;: 926957,
  &quot;signatureversion&quot;: 2,
  &quot;signature&quot;: &quot;base64sig&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage — Sign a Message</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Command
./verus -testnet signdata '{&quot;address&quot;:&quot;ari@&quot;, &quot;message&quot;:&quot;Hello from Ari - testing signdata for wiki docs&quot;}'

## Actual Output (tested on VRSCTEST)
{
  &quot;signaturedata&quot;: {
    &quot;version&quot;: 1,
    &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
    &quot;hashtype&quot;: 5,
    &quot;signaturehash&quot;: &quot;6972221095db42a7c97bd325ab7b6c641d3372be2ae0b435f7696c90789260c6&quot;,
    &quot;identityid&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
    &quot;signaturetype&quot;: 1,
    &quot;signature&quot;: &quot;AgXtJA4AAUEfK2i7aQevRK3PPJFttLTRk7bkXeKE8vMPd+KE3fobhnViIM496FCXFN4TN2Nh0iQ5fOlcc8VHJqCOTEDa03gvrQ==&quot;
  },
  &quot;system&quot;: &quot;VRSCTEST&quot;,
  &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
  &quot;hashtype&quot;: &quot;sha256&quot;,
  &quot;hash&quot;: &quot;6972221095db42a7c97bd325ab7b6c641d3372be2ae0b435f7696c90789260c6&quot;,
  &quot;identity&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;canonicalname&quot;: &quot;ari.vrsctest@&quot;,
  &quot;address&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
  &quot;signatureheight&quot;: 926957,
  &quot;signatureversion&quot;: 2,
  &quot;signature&quot;: &quot;AgXtJA4AAUEfK2i7aQevRK3PPJFttLTRk7bkXeKE8vMPd+KE3fobhnViIM496FCXFN4TN2Nh0iQ5fOlcc8VHJqCOTEDa03gvrQ==&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;signdata&quot;,&quot;params&quot;:[{&quot;address&quot;:&quot;ari@&quot;,&quot;message&quot;:&quot;hello world&quot;}]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Data attestation</strong> — sign arbitrary data with a VerusID for provable authorship</li>
<li><strong>VDXF-bound signatures</strong> — bind signatures to specific VDXF data types</li>
<li><strong>Multi-object MMR</strong> — sign multiple pieces of data in a single Merkle Mountain Range</li>
<li><strong>Encrypted data</strong> — sign and encrypt data to a Sapling address</li>
</ul>
<p><strong>signdata vs signmessage</strong>
| Feature | signdata | signmessage |
|---------|----------|-------------|
| Output format | Full JSON with signaturedata | Simple hash + signature |
| Signature version | v2 (includes system context) | v1 (simple) |
| VDXF keys | <span class="docs-emoji">&#x2705;</span> | <span class="docs-emoji">&#x274C;</span> |
| Bound hashes | <span class="docs-emoji">&#x2705;</span> | <span class="docs-emoji">&#x274C;</span> |
| Hash type selection | <span class="docs-emoji">&#x2705;</span> | <span class="docs-emoji">&#x274C;</span> (SHA256 only) |
| MMR support | <span class="docs-emoji">&#x2705;</span> | <span class="docs-emoji">&#x274C;</span> |
| Verification | <code v-pre>verifysignature</code> (use <code v-pre>datahash</code>) | <code v-pre>verifymessage</code> |</p>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| No data to sign | Missing message/filename/datahash | Provide at least one data parameter |
| Not authorized | Wallet doesn&#x27;t hold signing keys for identity | Import the private key |
| Identity not found | Invalid identity name or address | Verify the identity exists |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="verifysignature.md"><code v-pre>verifysignature</code></a> — Verify a signdata signature (use <code v-pre>datahash</code> from output)</li>
<li><a href="signmessage.md"><code v-pre>signmessage</code></a> — Simpler message signing (v1 signatures)</li>
<li><a href="signfile.md"><code v-pre>signfile</code></a> — Simple file signing</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Returns <strong>signature version 2</strong> which includes system context in the hash — this means the hash differs from a simple SHA256 of the message</li>
<li>To verify with <code v-pre>verifysignature</code>, use the <code v-pre>datahash</code> field from <code v-pre>signdata</code> output, NOT the original message (the message-based verification won&#x27;t match due to v2 hashing)</li>
<li>The <code v-pre>signaturedata</code> field contains the raw serialized signature data</li>
<li><code v-pre>signatureheight</code> records the block height at signing time, used for identity state verification</li>
<li>Supports multisig via the <code v-pre>signature</code> parameter — pass partial signatures for accumulation</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="signfile">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#signfile">#</doc-anchor-trigger>
        <span>signfile</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Generate a SHA256D hash of a file and sign it with a VerusID or t-address.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus signfile &quot;address or identity&quot; &quot;filepath/filename&quot; (&quot;currentsig&quot;)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | t-address or VerusID (e.g., <code v-pre>ari@</code>) to sign with |
| filename | string | Yes | Path to local file to sign |
| cursig | string | No | Current partial signature (base64) for multisig IDs |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;hash&quot;: &quot;hexhash&quot;,
  &quot;signature&quot;: &quot;base64sig&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Command
./verus -testnet signfile &quot;ari@&quot; &quot;/tmp/verus_test_sign.txt&quot;

## Actual Output (tested on VRSCTEST)
{
  &quot;hash&quot;: &quot;720949abdd085252234efa73c02059fdc876f3c2295dd413e020d04292620c5d&quot;,
  &quot;signature&quot;: &quot;Ae0kDgABQR+9rcThasA9w0KYb/90a4QGRWUKgt3WZnRZOE+YDvKXKVhWMKMT15PT2MkO+Ru4i9cnt/XsGO2pMyDo42VmQ186&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;signfile&quot;,&quot;params&quot;:[&quot;ari@&quot;,&quot;/tmp/verus_test_sign.txt&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Document signing</strong> — prove authorship or approval of a file</li>
<li><strong>Software releases</strong> — sign binaries or archives for verification</li>
<li><strong>Audit trails</strong> — create verifiable signatures for compliance documents</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| File not found | Invalid file path | Use absolute path accessible to the daemon |
| Not authorized | Wallet doesn&#x27;t hold signing keys | Import the private key |
| Identity not found | Invalid identity name | Check spelling and chain suffix |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="verifyfile.md"><code v-pre>verifyfile</code></a> — Verify a file signature</li>
<li><a href="signmessage.md"><code v-pre>signmessage</code></a> — Sign a text message instead</li>
<li><a href="signdata.md"><code v-pre>signdata</code></a> — Advanced signing with VDXF keys, bound hashes, etc.</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>The hash returned is <strong>SHA256</strong> (not SHA256D, despite using SHA256D internally for signing)</li>
<li>The file must be accessible to the <strong>daemon process</strong>, not just the CLI</li>
<li>Use <code v-pre>verifyfile</code> with the same file path and signature to verify</li>
<li>Supports multisig accumulation via the <code v-pre>cursig</code> parameter</li>
<li>The signature encodes the block height at signing time for identity state verification</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="signmessage">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#signmessage">#</doc-anchor-trigger>
        <span>signmessage</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Sign a message with the private key of a t-address or the authorities present in this wallet for a VerusID.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus signmessage &quot;address or identity&quot; &quot;message&quot; (&quot;currentsig&quot;)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | t-address or VerusID (e.g., <code v-pre>ari@</code>) to sign with |
| message | string | Yes | The message text to sign |
| cursig | string | No | Current partial signature (base64) for multisig IDs |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;hash&quot;: &quot;hexhash&quot;,
  &quot;signature&quot;: &quot;base64sig&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Command
./verus -testnet signmessage &quot;ari@&quot; &quot;Hello from Ari - testing signmessage for wiki docs&quot;

## Actual Output (tested on VRSCTEST)
{
  &quot;hash&quot;: &quot;c7eb4997c9887fc59c2c02e397e44735f70a0173f547a1402170e120221bd48c&quot;,
  &quot;signature&quot;: &quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>Verify the Signed Message</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">./verus -testnet verifymessage &quot;ari@&quot; &quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot; &quot;Hello from Ari - testing signmessage for wiki docs&quot;
## Output: true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;signmessage&quot;,&quot;params&quot;:[&quot;ari@&quot;,&quot;Hello from Ari&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Authentication</strong> — prove you control a VerusID</li>
<li><strong>Message attestation</strong> — sign statements or agreements</li>
<li><strong>Off-chain verification</strong> — create portable proofs of identity</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Private key not available | Wallet doesn&#x27;t hold signing keys | Import the private key or unlock wallet |
| Identity not found | Invalid identity name | Check spelling, include chain suffix if needed |
| Wallet locked | Wallet is encrypted and locked | Run <code v-pre>walletpassphrase</code> first |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="verifymessage.md"><code v-pre>verifymessage</code></a> — Verify a signmessage signature</li>
<li><a href="verifyhash.md"><code v-pre>verifyhash</code></a> — Verify using the hash directly</li>
<li><a href="signdata.md"><code v-pre>signdata</code></a> — Advanced signing with VDXF keys, bound hashes, etc.</li>
<li><a href="signfile.md"><code v-pre>signfile</code></a> — Sign a file instead of a message</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>Returns a <strong>v1 simple signature</strong> — use <code v-pre>verifymessage</code> (not <code v-pre>verifysignature</code>) to verify</li>
<li>The hash is SHA256 of the message</li>
<li>For advanced features (VDXF keys, bound hashes, hash type selection), use <code v-pre>signdata</code> instead</li>
<li>Supports multisig accumulation — pass partial signatures via <code v-pre>cursig</code></li>
<li>The signature embeds the block height at signing time</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="updateidentity">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#updateidentity">#</doc-anchor-trigger>
        <span>updateidentity</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Update an existing VerusID&#x27;s properties on-chain (primary addresses, authorities, content, flags, etc.).</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus updateidentity &quot;jsonidentity&quot; (returntx) (tokenupdate) (feeoffer) (sourceoffunds)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| jsonidentity | object | Yes | New definition of the identity (only changed fields needed alongside <code v-pre>name</code>) |
| returntx | bool | No | If true, return signed tx instead of broadcasting. Default: false |
| tokenupdate | bool | No | If true, use tokenized ID control token for authority. Default: false |
| feeoffer | value | No | Non-standard fee amount |
| sourceoffunds | string | No | Transparent or private address to source fees from |</p>
<p><strong>jsonidentity Fields</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;name&quot;: &quot;identityname&quot;,
  &quot;parent&quot;: &quot;iAddress&quot;,
  &quot;primaryaddresses&quot;: [&quot;Raddress&quot;, ...],
  &quot;minimumsignatures&quot;: 1,
  &quot;revocationauthority&quot;: &quot;nameorID&quot;,
  &quot;recoveryauthority&quot;: &quot;nameorID&quot;,
  &quot;privateaddress&quot;: &quot;zs-address&quot;,
  &quot;contentmultimap&quot;: { ... },
  &quot;flags&quot;: 0
}</code></pre>
</doc-codeblock></div>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">hexstring    (string) txid if returntx is false, or hex serialized transaction if returntx is true</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage — Update a Root ID</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Update ari@ identity (root-level ID on VRSCTEST)
./verus -testnet updateidentity '{&quot;name&quot;:&quot;ari&quot;, &quot;contentmultimap&quot;:{&quot;iC6oQAC5rufBtks35ctW1YtugXc9QyxF2a&quot;:[&quot;226172694022&quot;]}}'</code></pre>
</doc-codeblock></div>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> CRITICAL: SubID Updates Require <code v-pre>parent</code> Field</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## WRONG — This will fail silently or update the wrong identity:
./verus -testnet updateidentity '{&quot;name&quot;:&quot;alice.agentplatform&quot;}'

## CORRECT — SubIDs MUST include the parent field:
./verus -testnet updateidentity '{&quot;name&quot;:&quot;alice&quot;, &quot;parent&quot;:&quot;iKxGfbQTMPiQ95FjfJDjWW4MQzkvFqxpbB&quot;}'</code></pre>
</doc-codeblock></div>
<blockquote>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> SubID Gotcha:</strong> When updating a sub-identity (e.g., <code v-pre>alice.agentplatform@</code>), you <strong>must</strong> include the <code v-pre>&quot;parent&quot;</code> field with the parent identity&#x27;s i-address. Without it, the daemon will look for a root identity named &quot;alice&quot; instead of the subID &quot;alice.agentplatform&quot;. This is the most common source of errors with <code v-pre>updateidentity</code>.</p>
</blockquote>
<p><strong>Token-Based Update</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Use tokenized control token instead of key-based authority
./verus -testnet updateidentity '{&quot;name&quot;:&quot;ari&quot;}' false true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;updateidentity&quot;,&quot;params&quot;:[{&quot;name&quot;:&quot;ari&quot;,&quot;contentmultimap&quot;:{&quot;iC6oQAC5rufBtks35ctW1YtugXc9QyxF2a&quot;:[&quot;226172694022&quot;]}}]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Rotate keys</strong> — change <code v-pre>primaryaddresses</code> to new addresses for security</li>
<li><strong>Add content</strong> — store data in <code v-pre>contentmultimap</code> using VDXF keys</li>
<li><strong>Change authorities</strong> — update <code v-pre>revocationauthority</code> or <code v-pre>recoveryauthority</code></li>
<li><strong>Enable multisig</strong> — add multiple addresses and increase <code v-pre>minimumsignatures</code></li>
<li><strong>Set private address</strong> — add a shielded <code v-pre>privateaddress</code> for receiving private funds</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| Identity not found | Wrong name or missing <code v-pre>parent</code> for subIDs | Include <code v-pre>parent</code> i-address for sub-identities |
| Not authorized | Wallet doesn&#x27;t hold signing keys for identity | Import the private key or use <code v-pre>tokenupdate</code> |
| Identity is revoked | Cannot update a revoked identity | Use <code v-pre>recoveridentity</code> first |
| Insufficient funds | Not enough for transaction fee | Fund the wallet or specify <code v-pre>sourceoffunds</code> |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="getidentity.md"><code v-pre>getidentity</code></a> — View current identity state before/after update</li>
<li><a href="registeridentity.md"><code v-pre>registeridentity</code></a> — Initial identity registration</li>
<li><a href="revokeidentity.md"><code v-pre>revokeidentity</code></a> — Revoke an identity</li>
<li><a href="recoveridentity.md"><code v-pre>recoveridentity</code></a> — Recover a revoked identity</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>The <code v-pre>name</code> field is always required to identify which ID to update</li>
<li><strong>SubIDs require the <code v-pre>parent</code> field</strong> — this is the #1 gotcha</li>
<li>Only fields you include will be changed; omitted fields retain their current values</li>
<li>You must have signing authority (keys in wallet) or use <code v-pre>tokenupdate</code></li>
<li><code v-pre>tokenupdate</code> allows holders of the tokenized ID control token to update without primary key authority, but cannot change revocation/recovery authorities</li>
<li>Updates are on-chain transactions and require confirmation</li>
<li>Use <code v-pre>returntx</code> to inspect the transaction before broadcasting in sensitive cases</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="verifyfile">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#verifyfile">#</doc-anchor-trigger>
        <span>verifyfile</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Verify a signed file against a VerusID or t-address.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus verifyfile &quot;address or identity&quot; &quot;signature&quot; &quot;filepath/filename&quot; (checklatest)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | t-address or VerusID that signed the file |
| signature | string | Yes | Base64-encoded signature from <code v-pre>signfile</code> |
| filename | string | Yes | Path to the file that was signed |
| checklatest | bool | No | If true, verify against latest identity state. Default: false (uses signing height) |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">true|false    (boolean) Whether the signature is valid</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Command
./verus -testnet verifyfile &quot;ari@&quot; &quot;Ae0kDgABQR+9rcThasA9w0KYb/90a4QGRWUKgt3WZnRZOE+YDvKXKVhWMKMT15PT2MkO+Ru4i9cnt/XsGO2pMyDo42VmQ186&quot; &quot;/tmp/verus_test_sign.txt&quot;

## Actual Output (tested on VRSCTEST)
true</code></pre>
</doc-codeblock></div>
<p><strong>Check Against Latest Identity State</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Verify using the current identity keys (not the keys at signing time)
./verus -testnet verifyfile &quot;ari@&quot; &quot;signature_base64&quot; &quot;/tmp/verus_test_sign.txt&quot; true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;verifyfile&quot;,&quot;params&quot;:[&quot;ari@&quot;,&quot;Ae0kDgABQR+9rcThasA9w0KYb/90a4QGRWUKgt3WZnRZOE+YDvKXKVhWMKMT15PT2MkO+Ru4i9cnt/XsGO2pMyDo42VmQ186&quot;,&quot;/tmp/verus_test_sign.txt&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Software verification</strong> — verify signed binaries or archives</li>
<li><strong>Document integrity</strong> — confirm a document hasn&#x27;t been tampered with since signing</li>
<li><strong>Audit compliance</strong> — verify signed audit artifacts</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| false (returns false) | File modified, wrong signature, or wrong identity | Ensure file is unmodified and matches the signing identity |
| File not found | Invalid file path | Use absolute path accessible to the daemon |
| Identity not found | Invalid identity name | Check the identity name/address |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="signfile.md"><code v-pre>signfile</code></a> — Sign a file (produces the signature to verify)</li>
<li><a href="verifymessage.md"><code v-pre>verifymessage</code></a> — Verify a message signature</li>
<li><a href="verifyhash.md"><code v-pre>verifyhash</code></a> — Verify using a hash directly</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>The file must be accessible to the <strong>daemon process</strong></li>
<li>By default, verification checks against the identity state at the <strong>signing height</strong> (recorded in the signature)</li>
<li>Use <code v-pre>checklatest: true</code> to verify against the <strong>current</strong> identity state — useful if keys have been rotated</li>
<li>If the identity was updated (key rotation) after signing, default verification still succeeds (checks historical state)</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="verifyhash">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#verifyhash">#</doc-anchor-trigger>
        <span>verifyhash</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Verify a signature against a pre-computed hash and a VerusID or t-address.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus verifyhash &quot;address or identity&quot; &quot;signature&quot; &quot;hexhash&quot; (checklatest)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | t-address or VerusID that signed the data |
| signature | string | Yes | Base64-encoded signature from <code v-pre>signmessage</code> or <code v-pre>signfile</code> |
| hexhash | string | Yes | Hex-encoded hash of the original message or file |
| checklatest | bool | No | If true, verify against latest identity state. Default: false |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">true|false    (boolean) Whether the signature is valid</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Using the hash from signmessage output to verify
./verus -testnet verifyhash &quot;ari@&quot; &quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot; &quot;c7eb4997c9887fc59c2c02e397e44735f70a0173f547a1402170e120221bd48c&quot;

## Actual Output (tested on VRSCTEST)
true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;verifyhash&quot;,&quot;params&quot;:[&quot;ari@&quot;,&quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot;,&quot;c7eb4997c9887fc59c2c02e397e44735f70a0173f547a1402170e120221bd48c&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Hash-only verification</strong> — when you have the hash but not the original data</li>
<li><strong>Remote verification</strong> — verify without transmitting the original file/message</li>
<li><strong>Cross-system verification</strong> — verify signatures when only the hash was stored</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| false | Wrong hash, wrong signature, or wrong identity | Ensure hash matches what was originally signed |
| Invalid hex | Hash is not valid hex | Provide a valid 64-character hex hash |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="signmessage.md"><code v-pre>signmessage</code></a> — Sign a message (output includes hash)</li>
<li><a href="signfile.md"><code v-pre>signfile</code></a> — Sign a file (output includes hash)</li>
<li><a href="verifymessage.md"><code v-pre>verifymessage</code></a> — Verify with the original message text</li>
<li><a href="verifyfile.md"><code v-pre>verifyfile</code></a> — Verify with the original file</li>
<li><a href="verifysignature.md"><code v-pre>verifysignature</code></a> — Advanced verification for <code v-pre>signdata</code> signatures</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>The hash must be the <strong>SHA256</strong> hash as returned by <code v-pre>signmessage</code> or <code v-pre>signfile</code></li>
<li>This is useful when you&#x27;ve stored the hash separately from the original data</li>
<li>Works with signatures from both <code v-pre>signmessage</code> and <code v-pre>signfile</code></li>
<li>For <code v-pre>signdata</code> (v2) signatures, use <code v-pre>verifysignature</code> with <code v-pre>datahash</code> instead</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="verifymessage">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#verifymessage">#</doc-anchor-trigger>
        <span>verifymessage</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Verify a signed message against a VerusID or t-address.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus verifymessage &quot;address or identity&quot; &quot;signature&quot; &quot;message&quot; (checklatest)</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | t-address or VerusID that signed the message |
| signature | string | Yes | Base64-encoded signature from <code v-pre>signmessage</code> |
| message | string | Yes | The original message that was signed |
| checklatest | bool | No | If true, verify against latest identity state. Default: false |</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">true|false    (boolean) Whether the signature is valid</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Basic Usage</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Command
./verus -testnet verifymessage &quot;ari@&quot; &quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot; &quot;Hello from Ari - testing signmessage for wiki docs&quot;

## Actual Output (tested on VRSCTEST)
true</code></pre>
</doc-codeblock></div>
<p><strong>Verify with Latest Identity State</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Check against current keys (useful after key rotation)
./verus -testnet verifymessage &quot;ari@&quot; &quot;signature_base64&quot; &quot;message&quot; true</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;verifymessage&quot;,&quot;params&quot;:[&quot;ari@&quot;,&quot;Ae0kDgABQSDPV6z9gmeWVtGt6SaLiRk78JnsSf8LwCQjSeGj3Bja+WkFKg8jl0M1e+z/z6OzfQVjeW+rp26qg5mWxzrD1QAE&quot;,&quot;Hello from Ari - testing signmessage for wiki docs&quot;]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Authentication proof</strong> — verify someone controls a VerusID</li>
<li><strong>Message integrity</strong> — confirm a message hasn&#x27;t been altered</li>
<li><strong>Off-chain verification</strong> — verify VerusID signatures in external systems</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| false | Message modified, wrong signature, or wrong identity | Ensure exact message text matches what was signed |
| Identity not found | Invalid identity name | Check spelling and format |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="signmessage.md"><code v-pre>signmessage</code></a> — Sign a message (produces the signature to verify)</li>
<li><a href="verifyhash.md"><code v-pre>verifyhash</code></a> — Verify using the hash instead of the message</li>
<li><a href="verifyfile.md"><code v-pre>verifyfile</code></a> — Verify a file signature</li>
<li><a href="verifysignature.md"><code v-pre>verifysignature</code></a> — Advanced verification for <code v-pre>signdata</code> signatures</li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li>The message must match <strong>exactly</strong> — including whitespace and case</li>
<li>Use this for signatures produced by <code v-pre>signmessage</code>. For <code v-pre>signdata</code> signatures, use <code v-pre>verifysignature</code></li>
<li>By default, checks against the identity state at the <strong>signing height</strong> (embedded in signature)</li>
<li><code v-pre>checklatest: true</code> verifies against current identity keys — will fail if keys were rotated after signing</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926957</li>
<li>Verus version: 2000753</li>
</ul>
<hr>
<doc-anchor-target id="verifysignature">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#verifysignature">#</doc-anchor-trigger>
        <span>verifysignature</span>
    </h2>
</doc-anchor-target>
<blockquote>
<p><strong>Category:</strong> Identity | <strong>Version:</strong> v1.2.x+</p>
</blockquote>
<p>Verify a signature produced by <code v-pre>signdata</code>, supporting advanced features like VDXF keys, bound hashes, and hash type selection.</p>
<p><strong>Syntax</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">verus verifysignature '{&quot;address&quot;:&quot;id@&quot;, &quot;signature&quot;:&quot;base64sig&quot;, ...}'</code></pre>
</doc-codeblock></div>
<p><strong>Parameters</strong>
| Name | Type | Required | Description |
|------|------|----------|-------------|
| address | string | Yes | VerusID or t-address that signed the data |
| signature | string | Yes | Base64-encoded signature to verify |
| message | string | No* | Original message text |
| filename | string | No* | File path that was signed |
| messagehex | string | No* | Hex-encoded data |
| messagebase64 | string | No* | Base64-encoded data |
| datahash | string | No* | Pre-computed hash (use hash from <code v-pre>signdata</code> output) |
| prefixstring | string | No | Extra string used during signing (must match) |
| vdxfkeys | array | No | VDXF key i-addresses bound during signing |
| vdxfkeynames | array | No | VDXF key names bound during signing |
| boundhashes | array | No | Hex hashes bound during signing |
| hashtype | string | No | Hash type used: <code v-pre>sha256</code>, <code v-pre>sha256D</code>, <code v-pre>blake2b</code>, <code v-pre>keccak256</code> |
| checklatest | bool | No | If true, verify against latest identity state. Default: false |</p>
<p>*One data parameter is required.</p>
<p><strong>Result</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-json"><code v-pre class="language-json">{
  &quot;signaturestatus&quot;: &quot;verified&quot;,
  &quot;system&quot;: &quot;VRSCTEST&quot;,
  &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
  &quot;identity&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;canonicalname&quot;: &quot;ari.vrsctest@&quot;,
  &quot;address&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
  &quot;hashtype&quot;: &quot;sha256&quot;,
  &quot;hash&quot;: &quot;hexhash&quot;,
  &quot;height&quot;: 926958,
  &quot;signatureheight&quot;: 926957,
  &quot;signature&quot;: &quot;base64sig&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong>Examples</strong></p>
<p><strong>Verify Using datahash (Recommended for signdata signatures)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## Use the &quot;hash&quot; field from signdata output as &quot;datahash&quot;
./verus -testnet verifysignature '{&quot;address&quot;:&quot;ari@&quot;, &quot;datahash&quot;:&quot;ecd71870d1963316a97e3ac3408c9835ad8cf0f3c1bc703527c30265534f75ae&quot;, &quot;signature&quot;:&quot;AgXtJA4AAUEgXgBD28607ExvUtwYN788OyIboWOewNh5VS62b6iLhlM2fE1FFu3T793hVo4thSLPlDMLPjzyeZqQIgbafkrzGQ==&quot;}'

## Actual Output (tested on VRSCTEST)
{
  &quot;signaturestatus&quot;: &quot;verified&quot;,
  &quot;system&quot;: &quot;VRSCTEST&quot;,
  &quot;systemid&quot;: &quot;iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq&quot;,
  &quot;identity&quot;: &quot;ari.VRSCTEST@&quot;,
  &quot;canonicalname&quot;: &quot;ari.vrsctest@&quot;,
  &quot;address&quot;: &quot;i4aNjr1hJyZ2HiCziX1GavBsHj4PdGc129&quot;,
  &quot;hashtype&quot;: &quot;sha256&quot;,
  &quot;hash&quot;: &quot;ecd71870d1963316a97e3ac3408c9835ad8cf0f3c1bc703527c30265534f75ae&quot;,
  &quot;height&quot;: 926958,
  &quot;signatureheight&quot;: 926957,
  &quot;signature&quot;: &quot;AgXtJA4AAUEgXgBD28607ExvUtwYN788OyIboWOewNh5VS62b6iLhlM2fE1FFu3T793hVo4thSLPlDMLPjzyeZqQIgbafkrzGQ==&quot;
}</code></pre>
</doc-codeblock></div>
<p><strong><span class="docs-emoji">&#x26A0;&#xFE0F;</span> Important: Message-Based Verification with signdata</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">## This will NOT work — signdata v2 signatures include system context in the hash:
./verus -testnet verifysignature '{&quot;address&quot;:&quot;ari@&quot;, &quot;message&quot;:&quot;test123&quot;, &quot;signature&quot;:&quot;...&quot;}'
## Result: signaturestatus: &quot;invalid&quot;

## Instead, use the &quot;hash&quot; from signdata output as &quot;datahash&quot;:
./verus -testnet verifysignature '{&quot;address&quot;:&quot;ari@&quot;, &quot;datahash&quot;:&quot;hash_from_signdata&quot;, &quot;signature&quot;:&quot;...&quot;}'
## Result: signaturestatus: &quot;verified&quot;</code></pre>
</doc-codeblock></div>
<p><strong>RPC (curl)</strong></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-bash"><code v-pre class="language-bash">curl --user user:pass --data-binary '{&quot;jsonrpc&quot;:&quot;1.0&quot;,&quot;id&quot;:&quot;curltest&quot;,&quot;method&quot;:&quot;verifysignature&quot;,&quot;params&quot;:[{&quot;address&quot;:&quot;ari@&quot;,&quot;datahash&quot;:&quot;ecd71870d1963316a97e3ac3408c9835ad8cf0f3c1bc703527c30265534f75ae&quot;,&quot;signature&quot;:&quot;AgXtJA4AAUEgXgBD28607ExvUtwYN788OyIboWOewNh5VS62b6iLhlM2fE1FFu3T793hVo4thSLPlDMLPjzyeZqQIgbafkrzGQ==&quot;}]}' -H 'content-type: text/plain;' http://127.0.0.1:18843/</code></pre>
</doc-codeblock></div>
<p><strong>Common Use Cases</strong></p>
<ul>
<li><strong>Verify signdata signatures</strong> — the counterpart to <code v-pre>signdata</code></li>
<li><strong>VDXF-bound verification</strong> — verify signatures bound to specific VDXF data types</li>
<li><strong>Cross-system verification</strong> — verify with just the hash when original data isn&#x27;t available</li>
</ul>
<p><strong>Common Errors</strong>
| Error | Cause | Solution |
|-------|-------|---------|
| signaturestatus: &quot;invalid&quot; | Hash mismatch or wrong parameters | Use <code v-pre>datahash</code> from <code v-pre>signdata</code> output, not the original message |
| Identity not found | Invalid identity | Check name/address |
| Missing signature | No signature provided | Include the <code v-pre>signature</code> field |</p>
<p><strong>Related Commands</strong></p>
<ul>
<li><a href="signdata.md"><code v-pre>signdata</code></a> — Sign data (produces signatures verified by this command)</li>
<li><a href="verifymessage.md"><code v-pre>verifymessage</code></a> — Verify simple <code v-pre>signmessage</code> signatures</li>
<li><a href="verifyhash.md"><code v-pre>verifyhash</code></a> — Simple hash verification for <code v-pre>signmessage</code>/<code v-pre>signfile</code></li>
</ul>
<p><strong>Notes</strong></p>
<ul>
<li><strong>Critical:</strong> <code v-pre>signdata</code> produces v2 signatures that include system context in the hash. Passing the original <code v-pre>message</code> to <code v-pre>verifysignature</code> will compute a different hash and return &quot;invalid&quot;. Always use the <code v-pre>datahash</code> (the <code v-pre>hash</code> field from <code v-pre>signdata</code> output) for verification.</li>
<li>Returns rich JSON with <code v-pre>signaturestatus</code> (&quot;verified&quot; or &quot;invalid&quot;) instead of simple true/false</li>
<li>Includes <code v-pre>height</code> (current block) and <code v-pre>signatureheight</code> (block at signing time)</li>
<li>For simple <code v-pre>signmessage</code>/<code v-pre>signfile</code> signatures, use <code v-pre>verifymessage</code>/<code v-pre>verifyfile</code>/<code v-pre>verifyhash</code> instead</li>
</ul>
<p><strong>Tested On</strong></p>
<ul>
<li>VRSCTEST block height: 926958</li>
<li>Verus version: 2000753</li>
</ul>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer id="retype-content-footer" class="clear-both">
                            
                                <nav id="retype-nextprev" class="print:hidden flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../command-reference/generating/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-base-text-muted">Previous</span>
                                                <span class="block mt-1">Generating</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../command-reference/marketplace/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-base-text-muted">Next</span>
                                                <span class="block mt-1">Marketplace</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div id="retype-page-footer" class="print:border-none border-t border-base-border pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between print:justify-center">
                                <div id="retype-footer-links" class="print:hidden">
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div id="retype-copyright" class="print:justify-center py-2 text-footer-text font-footer-link-weight text-sm leading-relaxed"><p>Verus Community Wiki</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-sidebar-right-bg border-sidebar-right-border lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="retype-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Identity", level: 2, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
